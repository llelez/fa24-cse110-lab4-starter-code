{"ast":null,"code":"import { API_BASE_URL } from \"../constants/constants\";\n\n// Function to get budget from the backend. Method: GET\nexport const fetchBudget = async () => {\n  const response = await fetch(`${API_BASE_URL}/budget`, {\n    method: \"GET\"\n  });\n  if (!response.ok) {\n    throw new Error(\"Failed to get budget\");\n  }\n  const jsonResponse = await response.json();\n  console.log(\"response in budget\", jsonResponse.data);\n  return jsonResponse.data;\n};\n\n// Function to update the budget in the backend. Method: PUT\nexport const updateBudget = async budget => {\n  console.log(\"change budget\", budget);\n  const response = await fetch(`${API_BASE_URL}/budget`, {\n    method: \"PUT\",\n    headers: {\n      \"Content-Type\": \"application/json\"\n    },\n    body: JSON.stringify({\n      budget\n    })\n  });\n  if (!response.ok) {\n    throw new Error(\"Failed to change budget\");\n  }\n  return response.json();\n};","map":{"version":3,"names":["API_BASE_URL","fetchBudget","response","fetch","method","ok","Error","jsonResponse","json","console","log","data","updateBudget","budget","headers","body","JSON","stringify"],"sources":["/Users/lelezhao/CSE110-Labs/fa24-cse110-lab4-starter-code/client/src/utils/budget-utils.ts"],"sourcesContent":["import { API_BASE_URL } from \"../constants/constants\";\n\n// Function to get budget from the backend. Method: GET\nexport const fetchBudget = async (): Promise<number> => {\n\tconst response = await fetch(`${API_BASE_URL}/budget`, {\n    \tmethod: \"GET\",\n\t});\n\tif (!response.ok) {\n    \tthrow new Error(\"Failed to get budget\");\n\t}\n\n    const jsonResponse = await response.json();\n\n\tconsole.log(\"response in budget\", jsonResponse.data);\n\n\treturn jsonResponse.data;\n \n};\n\n// Function to update the budget in the backend. Method: PUT\nexport const updateBudget = async (budget: number): Promise<number> => {\n\tconsole.log(\"change budget\", budget);\n\tconst response = await fetch(`${API_BASE_URL}/budget`, {\n    \tmethod: \"PUT\",\n\t\theaders: {\n            \"Content-Type\": \"application/json\",\n        },\n\t\tbody: JSON.stringify({budget}),\n\t});\n\tif (!response.ok) {\n    \tthrow new Error(\"Failed to change budget\");\n\t}\n\n\t\n\n\treturn response.json();\n\n};\n\n\n"],"mappings":"AAAA,SAASA,YAAY,QAAQ,wBAAwB;;AAErD;AACA,OAAO,MAAMC,WAAW,GAAG,MAAAA,CAAA,KAA6B;EACvD,MAAMC,QAAQ,GAAG,MAAMC,KAAK,CAAC,GAAGH,YAAY,SAAS,EAAE;IACnDI,MAAM,EAAE;EACZ,CAAC,CAAC;EACF,IAAI,CAACF,QAAQ,CAACG,EAAE,EAAE;IACd,MAAM,IAAIC,KAAK,CAAC,sBAAsB,CAAC;EAC3C;EAEG,MAAMC,YAAY,GAAG,MAAML,QAAQ,CAACM,IAAI,CAAC,CAAC;EAE7CC,OAAO,CAACC,GAAG,CAAC,oBAAoB,EAAEH,YAAY,CAACI,IAAI,CAAC;EAEpD,OAAOJ,YAAY,CAACI,IAAI;AAEzB,CAAC;;AAED;AACA,OAAO,MAAMC,YAAY,GAAG,MAAOC,MAAc,IAAsB;EACtEJ,OAAO,CAACC,GAAG,CAAC,eAAe,EAAEG,MAAM,CAAC;EACpC,MAAMX,QAAQ,GAAG,MAAMC,KAAK,CAAC,GAAGH,YAAY,SAAS,EAAE;IACnDI,MAAM,EAAE,KAAK;IAChBU,OAAO,EAAE;MACC,cAAc,EAAE;IACpB,CAAC;IACPC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAAC;MAACJ;IAAM,CAAC;EAC9B,CAAC,CAAC;EACF,IAAI,CAACX,QAAQ,CAACG,EAAE,EAAE;IACd,MAAM,IAAIC,KAAK,CAAC,yBAAyB,CAAC;EAC9C;EAIA,OAAOJ,QAAQ,CAACM,IAAI,CAAC,CAAC;AAEvB,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}